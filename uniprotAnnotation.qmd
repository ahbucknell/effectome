---
title: "Analysis GO terms of structural orthologues"
engine: julia
---
## Import Uniprot ID CSVs
```{julia}
uniprotSOPath = joinpath(@__DIR__, "_output", "data", "structural_orthologues_Uniprot_IDs.csv")
soDF = CSV.read(uniprotSOPath, DataFrame)
soUniprots = unique(soDF.uniprot)

uniprotMepPath = expanduser(joinpath("~", "oneDrive", "projects", "effectome", "datasets", "mepUniprot.csv"))
mepDF = CSV.read(uniprotMepPath, DataFrame, header = false)
mepUniprots = unique(mepDF.Column1)
```
## Retrieve UniProtKB annotations
```{julia}
function getUniprotAnnotation(uniprotID)
    url = "https://rest.uniprot.org/uniprotkb/$uniprotID.json"
    try
        response = HTTP.get(url, ["Accept-Encoding" => "identity"])
        body = JSON3.read(String(response.body))
        println(uniprotID)
        return body.annotationScore
    catch err
        println("API fetch failed for $uniprotID")
    end
end

 soAnnotationScores = [getUniprotAnnotation(x) for x in soUniprots]
 println("Structural orthologue scores found.")
 mepAnnotationScores = [getUniprotAnnotation(x) for x in mepUniprots]
```

## Plotting annotation score

```{julia}

xData = vcat(fill(1, length(mepAnnotationScores)),
             fill(2, length(soAnnotationScores)))

hist(soAnnotationScores)
```